// Updated MTN pricing to enable Server A prices while keeping Server B values.
var mtnRawPrices = {
    "1GB": { serverA: 4.60, serverB: existingValue1 },
    "2GB": { serverA: 9.50, serverB: existingValue2 },
    "3GB": { serverA: 13.50, serverB: existingValue3 },
    "4GB": { serverA: 18.00, serverB: existingValue4 },
    "5GB": { serverA: 22.20, serverB: existingValue5 },
    "6GB": { serverA: 27.00, serverB: existingValue6 },
    "8GB": { serverA: 36.00, serverB: existingValue7 },
    "10GB": { serverA: 43.00, serverB: existingValue8 },
    "15GB": { serverA: 63.00, serverB: existingValue9 },
    "20GB": { serverA: 83.00, serverB: existingValue10 },
    "25GB": { serverA: 102.00, serverB: existingValue11 },
    "30GB": { serverA: 122.00, serverB: existingValue12 }
};

// Modifying the order item template to include a server selector.
function renderOrderItemTemplate() {
    return `<div class='single-order-item'>
        <select class='server-selector'>
            <option value='serverA'>Server A</option>
            <option value='serverB'>Server B</option>
        </select>
        <!-- Additional order item fields -->
    </div>`;
}

// Updating populateDataSizeOptions to accept serverType.
function populateDataSizeOptions(selectElement, network, serverType = 'serverA') {
    const prices = mtnRawPrices;
    const sizeOptions = Object.keys(prices);
    sizeOptions.forEach(size => {
        const price = prices[size][serverType];
        // Populate the selectElement with sizes and prices.
        selectElement.append(new Option(size + ' - $' + price, size));
    });
}

// Updating addOrderItem method to include the server selection logic.
function addOrderItem() {
    let item = renderOrderItemTemplate();
    // Default selection to serverA
    document.querySelector('.server-selector').value = 'serverA';
    // Logic to handle value changes and update accordingly
}

// Adjusting the MTN order submission handler.
function handleOrderSubmission(orderItems) {
    orderItems.forEach(item => {
        const serverType = item.querySelector('.server-selector').value;
        // Record the serverType with each order object.
        item.serverType = serverType;
    });
}

// Keeping allDataBundles initialization flexible to server selection.
let allDataBundles = { bundles: mtnRawPrices, serverType: null };